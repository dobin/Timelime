<style type="text/css">
    body    {overflow-y:scroll;}
</style>

<div class="row">
    <div class="col-md-4">

        <ui-select ng-change="reloadTable()" ng-model="topic.selected"  ng-disabled="disabled" style="min-width: 200px;" title="Choose a topic">
            <ui-select-match placeholder="Select a topic in the list or search...">{{$select.selected.topicName}}</ui-select-match>
            <ui-select-choices repeat="topic in topics | propsFilter: {topicName: $select.search}">
                <div ng-bind-html="topic.parentTopic.topicName + ' / ' + topic.topicName | highlight: $select.search"></div>
                <small>
                    {{topic.parentTopic.topicName}}
                    {{topic.topicDescription}}
                </small>
            </ui-select-choices>
        </ui-select>
    </div>
    <div class="col-md-1">
        <button class="btn btn-default btn-xs " ng-click="removeTopicFilter()">X</button>
    </div>

    <div class="col-md-2">
        Readstatus:
        <select ng-change="reloadTable()" name="readstatus_filter" ng-model="readStatusFilter" ng-options="readStat.text for readStat in readStats">
            <option value=""></option>
        </select>
    </div>
</div>

<div class="row">
    <div class="col-md-12" ng-show="links.length > 0">

        <nav class= "navbar-left navbar-form" role= "navigation" >
            <div ng-show="!isMy">
                <div class= "navbar-header" >
                    <p class="navbar-text" ng-show="selectedUser">
                        User: {{selectedUser.username}}
                    </p>
                    <p class="navbar-text" ng-show="selectedTopic">
                        Topic: {{selectedTopic.topicName}}
                    </p>

                    <p class="navbar-text" ng-show="!selectedUser">
                        No user selected
                    </p>
                    <p class="navbar-text" ng-show="!selectedTopic">
                        No topic selected
                    </p>
                </div>
            </div>
        </nav>


        <table ng-table="tableParams" show-filter="true" class="table timelinetable">
            <tr ng-repeat="link in $data">
                <td class="col-md-2" style="text-align:right" data-title="'DateAdded'" sortable="'dateAdded'" filter="{ 'Date': 'text' }">
                    <span class="timelineTitleBig">{{link.dateAdded | date :dateFormat}} </span><br>

                    {{link.topic.topicName}}

                    <br>
                    <a ng-repeat="tag in link.tags">{{tag.text}}&nbsp;</a>


                </td>

                <td class="col-md-10"  data-title="'LinkName'" sortable="'linkName'" filter="{ 'linkName': 'text' }">
                    <span class="timelineTitleBig"> {{link.linkName}} </span>
                    <a ng-if="user.userID" class="pull-right" ng-href="#/edit-link/{{link.linkID}}">&#91;Edit&#93;</a>
                    <a class="pull-right" href="" ng-click="viewLink(link);">&#91;Details&#93;</a>
                    <a ng-if="user.userID" class="pull-right" ng-click="changeLinkReadStatus(link)">&#91;{{link.readStatusTextRo}}&#93;</a>


                    <br>
                    <span class="timelineDateSmall">
                    <a ng-href="{{link.linkURL}}"> {{link.linkURL}}</a>
                    </span>
                    <br>


                    <div ng-if="link.datePublish">
                        Published: {{link.datePublish | date :'dd.MM.yyyy'}}
                    </div>

                    <br>
                    <span ng-if="link.linkID == selectedLink.linkID">
                    <div class="custom">
                        <div ng-include="'modules/timeline/view-timeline-link.html'"></div>
                    </div>
                    </span>

                </td>
            </tr>
        </table>

    </div>



    <div class="col-md-12" ng-show="links.length == 0">
        <div class="col-md-12">
            <h4>No links found</h4>
        </div>
    </div>
</div>



